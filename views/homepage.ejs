<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PetVerse - Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="/css/products.css">
    <link rel="stylesheet" href="/css/homepage.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="icon" href="<%= iconPath %>">
</head>
<body>
    <%- include('partials/header') %>

    <section class="hero">
        <div class="hero-content">
            <h1>Find your <span><%= heroTitle %></span></h1>
            <p><%= heroSubtitle %></p>
            <button class="adopt-btn" onclick="window.location.href='/pets'"><%= heroButtonText %></button>
        </div>
    </section>
    <section id="slideshow">
        <h1 class="section-title"><%= slideshowTitle %></h1>
        <div class="slideshow-container">
            <% slides.forEach(function(slide, index) { %>
                <div class="slide fade">
                    <img src="<%= slide.image %>" alt="slide<%= index + 1 %>">
                    <div class="caption"><%= slide.caption %></div>
                </div>
            <% }); %>
            <button class="slideshow-btn prev" onclick="changeSlide(-1)">&#10094;</button>
            <button class="slideshow-btn next" onclick="changeSlide(1)">&#10095;</button>
        </div>
        <div class="dots">
        </div>
    </section>
    <hr>
    <section id="searchby-pet" class="searchby-pet">
        <div class="searchby-pet-content">
            <h1 class="section-title"><%= petSectionTitle %></h1>
            <div class="pet-grid">
                <% petCategories.forEach(function(pet) { %>
                    <div class="pet-card">
                        <img src="<%= pet.image %>" alt="<%= pet.name.toLowerCase() %>">
                        <h2 class="card-text"><%= pet.name %></h2>
                        <button class="card-button" onclick="window.location.href='/pets'"><%= exploreButtonText %></button>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>
    <hr>
    <section class="feature-pets">
        <div class="feature-pets-content">
            <h1 class="section-title"><%= featuredPetsTitle %></h1>
            <div class="pet-grid">
                <% featuredPets.forEach(function(pet) { %>
                    <div class="feature-pets-card">
                        <img src="<%= pet.image %>" alt="<%= pet.name.toLowerCase() %>">
                        <h2 class="card-text"><%= pet.name %></h2>
                        <p>Age: <%= pet.age %></p>
                        <p class="price"><strong>₹ <%= pet.price %></strong></p>
                        <button class="card-button" onclick="window.location.href='/pets'"><%= detailsButtonText %></button>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>
    <hr>
    <section class="feature-prod">
        <div class="feature-pets-content">
            <h1 class="section-title"><%= featuredProductsTitle %></h1>
            <div class="pet-grid">
                <% featuredProducts.forEach(function(product) { %>
                    <div class="feature-pdts-card">
                        <img src="<%= product.image %>" alt="<%= product.name.toLowerCase() %>">
                        <h2 class="card-text"><%= product.name %></h2>
                        <div class="star-rating">
                            <%- product.rating %>
                        </div>
                        <p class="price"><strong>₹ <%= product.price %></strong></p>
                        <button class="card-button" onclick="window.location.href='/products/toys'"><%= buyButtonText %></button>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>
    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title"><%= aboutTitle %></h2>
            <% aboutText.forEach(function(paragraph) { %>
                <p class="about-text"><%- paragraph %></p>
            <% }); %>
            <h3 class="features-title"><%= featuresTitle %></h3>
            <ul class="features-list">
                <% features.forEach(function(feature) { %>
                    <li><span class="point">✔ &nbsp</span><strong> <%= feature.title %>:</strong> <%= feature.description %></li>
                <% }); %>
            </ul>
        </div>
    </section>
    
    <section class="testimonials">
        <div class="testimonial-section">
            <h2><%= testimonialTitle %></h2>
            <div class="testimonial-cards">
                <% testimonials.forEach(function(testimonial) { %>
                    <div class="testimonial">
                        <p>"<%= testimonial.text %>"</p>
                        <span>- <%= testimonial.author %></span>
                    </div>
                <% }); %>
            </div>
        </div>
    </section>
    
    <section class="call-to-action">
        <h2><%= ctaTitle %></h2>
        <p><%= ctaSubtitle %></p>
        <div class="cta-buttons">
            <% ctaButtons.forEach(function(button) { %>
                <button id="<%= button.id %>" class="cta-btn"><%= button.text %></button>
            <% }); %>
        </div>
    </section>
    <footer id="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <h2><%= siteName %></h2>
                <p><%= footerTagline %></p>
            </div>
            <div class="footer-links">
                <h3><%= quickLinksTitle %></h3>
                <ul>
                    <% footerLinks.forEach(function(link) { %>
                        <li><a href="<%= link.url %>"><%= link.name %></a></li>
                    <% }); %>
                </ul>
            </div>
            <div class="footer-social">
                <h3><%= socialTitle %></h3>
                <% socialLinks.forEach(function(social) { %>
                    <a href="<%= social.url %>" target="_blank" class="social-icon"><%= social.name %></a>
                <% }); %>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; <%= new Date().getFullYear() %> <%= siteName %>. All Rights Reserved</p>
        </div>
    </footer>
    <script>
        // Get all dropdown toggles and menus
        const dropdownToggles = document.querySelectorAll('.dropdown-toggle');
        const dropdownMenus = document.querySelectorAll('.dropdown-menu');

        // Add click event to each dropdown toggle
        dropdownToggles.forEach((toggle, index) => {
            toggle.addEventListener('click', function(event) {
                event.stopPropagation(); // Prevent this click from triggering the document click handler

                // Close all other dropdown menus first
                dropdownMenus.forEach((menu, menuIndex) => {
                    if (menuIndex !== index) {
                        menu.classList.remove('show');
                    }
                });
        
            // Toggle the current dropdown menu
                const currentDropdownMenu = this.nextElementSibling;
                currentDropdownMenu.classList.toggle('show');
            });
        });

    // Close all dropdowns when clicking anywhere else on the page
        document.addEventListener('click', function(event) {
            // Check if click is outside of any dropdown
            if (!event.target.closest('.dropdown')) {
            // Close all dropdown menus
                dropdownMenus.forEach(menu => {
                    if (menu.classList.contains('show')) {
                        menu.classList.remove('show');
                    }
                });
            }
        });
    </script>
    <script src="/js/script.js"></script>
</body>
</html>